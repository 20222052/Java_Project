<div th:fragment="content">
    <section class="breadcrumb-area tg-motion-effects breadcrumb-bg" data-background="/uploads/bg/breadcrumb_bg.jpg">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumb-content">
                        <!--                        <h2 class="title" th:text="${cat.name}"></h2>-->
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a th:href="@{/}">Home</a></li>
                                <!--                                <li class="breadcrumb-item active" aria-current="page" th:text="${cat.name}"></li>-->
                            </ol>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- shop-area -->
    <section class="shop-area shop-bg" data-background="/assets/img/bg/shop_bg.jpg">
        <div class="container custom-container-five">
            <div class="shop-inner-wrap">
                <div class="row">
                    <div class="col-xl-9 col-lg-8">
                        <div class="shop-top-wrap">
                            <div class="row align-items-center">
                                <div class="col-md-6">
                                    <div class="shop-showing-result"></div>
                                </div>
                                <div class="col-md-6">
                                    <div class="shop-ordering">
<!--                                        <form th:action="@{/shop}" method="GET" class="form">-->
<!--                                            <div class="row">-->
<!--                                                <div class="col-xl-4 col-md-9">-->
<!--                                                    <select name="order" class="form-control">-->
<!--                                                        <option value="">Default</option>-->
<!--                                                        <option value="id-asc" th:selected="${order == 'id-asc'}">Sort ascending by id</option>-->
<!--                                                        <option value="id-desc" th:selected="${order == 'id-desc'}">Sort descending by id</option>-->
<!--                                                        <option value="name-asc" th:selected="${order == 'name-asc'}">Sort ascending by name</option>-->
<!--                                                        <option value="name-desc" th:selected="${order == 'name-desc'}">Sort descending by name</option>-->
<!--                                                    </select>-->
<!--                                                </div>-->
<!--                                                <div class="col-xl-4 col-md-3">-->
<!--                                                    <button type="submit" class="btn btn-primary"><i class="fa fa-search"></i></button>-->
<!--                                                </div>-->
<!--                                            </div>-->
<!--                                        </form>-->
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="shop-item-wrap">
                            <div class="row">
                                <div class="col-xl-4 col-md-6" th:each="prod : ${products}">
                                    <div class="product-item-three inner-product-item">
                                        <div class="product-thumb-three">
                                            <a th:href="@{/product/{id}(id=${prod.id})}">
                                                <img th:src="@{/uploads/product/{img}(img=${prod.image})}" alt="">
                                            </a>
                                            <span class="batch">New<i class="fas fa-star"></i></span>
                                        </div>
                                        <div class="product-content-three">
                                            <a href="#" class="tag" th:text="${prod.category.name}"></a>
                                            <h2 class="title">
                                                <a th:href="@{/product/{id}(id=${prod.id})}" th:text="${prod.name}"></a>
                                            </h2>
                                            <span th:if="${prod.salePrice > 0}">
                                            <s th:text="${#numbers.formatInteger(prod.price,3,'COMMA')} + ' VND'"></s>
                                            <span class="price" th:text="${#numbers.formatInteger(prod.salePrice,3,'COMMA')} + ' VND'"></span>
                                        </span>
                                            <span th:unless="${prod.salePrice > 0}" class="price"
                                                  th:text="${#numbers.formatInteger(prod.price,3,'COMMA')} + ' VND'"></span>
                                            <div th:if="${session.cus != null}">
                                                <a th:if="${prod.favorited}" title="Bỏ thích" onclick="return confirm('Bạn có muốn bỏ thích không')"
                                                   th:href="@{/favorite/delete/{id}(id=${prod.favoriteId})}">
                                                    <i class="fas fa-heart"></i>
                                                </a>
                                                <a th:unless="${prod.favorited}" title="Yêu thích" th:href="@{/favorite/insert/{id}(id=${prod.id})}">
                                                    <i class="far fa-heart"></i>
                                                </a>
                                                <!--                <button style="border: none; background-color: #fff;" class="add_to_cart" title="Thêm vào giỏ hàng">-->
                                                <!--                  <i class="fa fa-shopping-cart"></i>-->
                                                <!--                </button>-->
                                                <!--                <input class="product_id" type="hidden" name="product_id" th:value="${sp.id}">-->
                                                <a th:href="@{/cart/insert/{id}(id=${prod.id})}">
                                                    <i class="fas fa-shopping-cart"></i>
                                                </a>
                                            </div>

                                            <a th:unless="${session.cus != null}" title="Thêm vào giỏ hàng" th:href="@{/acc/login}"
                                               onclick="alert('Vui lòng đăng nhập để thêm giỏ hàng')">
                                                <i class="fa fa-shopping-cart"></i>
                                            </a>
                                        </div>
                                        <div class="product-shape-two">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 303 445" preserveAspectRatio="none">
                                                <path d="M319,3802H602c5.523,0,10,5.24,10,11.71l-10,421.58c0,6.47-4.477,11.71-10,11.71H329c-5.523,0-10-5.24-10-11.71l-10-421.58C309,3807.24,313.477,3802,319,3802Z" transform="translate(-309 -3802)" />
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>

                    <div class="col-xl-3 col-lg-4">
                        <div class="shop-sidebar">
                            <div class="shop-widget">
                                <h4 class="sw-title">FILTER BY</h4>
                                <div class="price_filter">
                                    <div class="clear-btn">
                                        <a th:href="@{/category}" type="reset">
                                            <i class="far fa-trash-alt"></i> Clear all
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="shop-widget">
                                <h4 class="sw-title">Category</h4>
                                <div class="shop-cat-list">
                                    <ul class="list-wrap">
                                        <li th:each="cat : ${cats_home}">
                                            <a th:href="@{/product/{id}(id=${cat.id})}" class="form-check-label">
                                                <span th:text="${cat.name}"></span>
                                                <span th:text="${#lists.size(cat.products)}"></span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="shop-widget">
                                <h4 class="sw-title">Latest Products</h4>
                                <div class="latest-products-wrap">
                                    <div class="lp-item" th:each="np : ${news_products}">
                                        <div class="lp-thumb">
                                            <a th:href="@{/product/{id}(id=${np.id})}">
                                                <img th:src="@{/uploads/product/{img}(img=${np.image})}" alt="">
                                            </a>
                                        </div>
                                        <div class="lp-content">
                                            <h4 class="title">
                                                <a th:href="@{/product/{id}(id=${np.id})}" th:text="${np.name}"></a>
                                            </h4>
                                            <span th:if="${np.salePrice > 0}">
                                            <s th:text="${#numbers.formatInteger(np.price,3,'COMMA')} + ' VND'"></s>
                                            <span class="price" th:text="${#numbers.formatInteger(np.salePrice,3,'COMMA')} + ' VND'"></span>
                                        </span>
                                            <span th:unless="${np.salePrice > 0}" class="price"
                                                  th:text="${#numbers.formatInteger(np.price,3,'COMMA')} + ' VND'"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--                <div th:replace="fragments/pagination :: pagination(${products})"></div>-->
            </div>
        </div>
    </section>


</div>